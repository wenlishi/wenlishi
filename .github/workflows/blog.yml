name: Recent Blog

on:
  schedule:
    - cron: "0 0 * * *" # æ¯å¤© UTCæ—¶é—´ 0ç‚¹ (åŒ—äº¬æ—¶é—´æ—©ä¸Š8ç‚¹) è‡ªåŠ¨è¿è¡Œ
  workflow_dispatch:    # å…è®¸ä½ åœ¨ Actions é¡µé¢æ‰‹åŠ¨ç‚¹å‡» "Run workflow" æŒ‰é’®è§¦å‘

jobs:
  update-blog:
    runs-on: ubuntu-latest
    name: Update Blog Posts in README
    
    # âš ï¸ å…³é”®è®¾ç½®ï¼šç»™äºˆæœºå™¨äººä¿®æ”¹ä»“åº“æ–‡ä»¶çš„æƒé™
    permissions:
      contents: write
      
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Pull RSS Feed
        uses: sarisia/actions-readme-feed@v1
        with:
          # ğŸ‘‡ è¿™é‡Œå·²ç»æ”¹æˆäº†ä½ çš„ Halo åšå®¢ RSS åœ°å€
          url: "https://blog.puber.top/rss.xml"
          file: "README.md"
          # é€‰é¡¹ï¼šæ˜¾ç¤ºæœ€è¿‘å¤šå°‘ç¯‡æ–‡ç«  (é»˜è®¤æ˜¯ 4)
          max_entries: 4
          # é€‰é¡¹ï¼šæ–‡ç« é“¾æ¥çš„æ ¼å¼
          format: "- ${year}-${month}-${day} [${title}](${url})"

      - name: Commit & Push
        uses: sarisia/actions-commit@master
        with:
          # è‡ªå®šä¹‰æäº¤æ—¶çš„è¯´æ˜æ–‡å­—
          message: "docs: update latest blog posts automatically"
